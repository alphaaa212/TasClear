{% extends "layout.html" %}{% block head %}
<!-- task_dataとcat_listの存在を確認する -->
<link
  rel="stylesheet"
  href="{{url_for('static',filename='styles/editTask.css')}}"
/>{% endblock %} {%block title%}タスク編集{%endblock%} {%block content%}
<h1>タスク編集</h1>

<form action="{{url_for('finish_edit',task_id=task.task_id)}}" method="POST">
  <input type="hidden" name="edit_id" value="{{task.task_id}}">

  <!-- １行目 -->
  <div class="firstLine">
    <h3>タスク名：</h3>
    <input class="inputLine" type="text" name="task_name" value="{{task.task_name}}" required />
  </div>

  <!-- 2行目 -->
  <div class="multiLine">
    <div class="left">
      <h3>〆切日：</h3>
      <input class="inputBox" type="datetime-local" name="specific_date" value="{{task.deadline}}" required />
    </div>
    <div class="right">
      <h3>所要時間：</h3>
      <input class="inputLine" type="number" name="time_required" placeholder="半角で入力（h）" value="{{task.time_required}}" required />
    </div>
  </div>

  <!-- 3行目 -->
  <div class="multiLine">
    <div class="left">
      <h3>ダメージ：</h3>
      <select class="inputBox" name="criticality" required>
        <option value="なし" {% if task.criticality == "なし" %}selected{% endif %}>なし</option>
        <option value="小" {% if task.criticality == "小" %}selected{% endif %}>小</option>
        <option value="中" {% if task.criticality == "中" %}selected{% endif %}>中</option>
        <option value="大" {% if task.criticality == "大" %}selected{% endif %}>大</option>
      </select>
    </div>
    <div class="right">
      <h3>影響範囲：</h3>
      <select class="inputBox" name="impact_scope" required>
        <option value="onlyMe" {% if task.impact_scope == "onlyMe" %}selected{% endif %}>自分のみ</option>
        <option value="smallGroup" {% if task.impact_scope == "smallGroup" %}selected{% endif %}>小グループ</option>
        <option value="allTeam" {% if task.impact_scope == "allTeam" %}selected{% endif %}>チーム全体</option>
        <option value="moreThanTeam" {% if task.impact_scope == "moreThanTeam" %}selected{% endif %}>それ以上</option>
      </select>
    </div>
  </div>

  <!-- 4行目 -->
  <div class="multiLine">
    <div class="left">
      <h3>カテゴリ：</h3>
      <select class="inputBox" name="category" required>
        {% for cat in cat_list %}
          <option value="{{cat}}" {% if task.category_name == cat %}selected{% endif %}>{{ cat }}</option>
        {% endfor %}
      </select>
      <h4>＋</h4>
    </div>
    <div class="right">
      <h3>進捗状況：</h3>
      <input type="range" min="0" max="100" required />
    </div>
  </div>

  <!-- 5行目以下 -->
  <h3>メモ</h3><input class="memoBox" type="text" name="memo"></div>
    <form action="{{url_for('finish_edit',task_id=task.task_id)}}" method="POST">
        <button class="addBtn">編集完了</button>
        <button class="cancelBtn">キャンセル</button>
    </form>
{%endblock%}